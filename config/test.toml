# Test environment configuration

[server]
host = "0.0.0.0"
port = 15115

[auth]
enabled = true
api_keys = ["test-api-key-1", "test-api-key-2"]

[rate_limit]
enabled = true
requests_per_second = 1000
burst_size = 2000

[storage]
base_path = "./generated_images"
url_prefix = "http://localhost:15115/images"

[logging]
level = "debug"
format = "json"

# Test backends configuration
[[backends]]
name = "http-mock-1"
protocol = "http"
endpoints = ["http://http-mock-1:8001"]
health_check_path = "/health"
health_check_interval_secs = 10
timeout_ms = 30000
weight = 1
enabled = true

[[backends]]
name = "http-mock-2"
protocol = "http"
endpoints = ["http://http-mock-2:8002"]
health_check_path = "/health"
health_check_interval_secs = 10
timeout_ms = 30000
weight = 1
enabled = true

[[backends]]
name = "slow-backend"
protocol = "http"
endpoints = ["http://slow-mock:8003"]
health_check_path = "/health"
health_check_interval_secs = 10
timeout_ms = 60000
weight = 1
enabled = true

[[backends]]
name = "failure-backend"
protocol = "http"
endpoints = ["http://failure-mock:8004"]
health_check_path = "/health"
health_check_interval_secs = 10
timeout_ms = 30000
weight = 1
enabled = true

[[backends]]
name = "grpc-backend"
protocol = "grpc"
endpoints = ["http://grpc-mock:50051"]
health_check_interval_secs = 10
timeout_ms = 30000
weight = 1
enabled = true

